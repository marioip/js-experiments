<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Debounce - Functional programming</title>

</head>
<body>
	<script>
	
	function debounce(fn, time){
		var timerId;
		return function(){
			var args = Array.prototype.slice.call(arguments);
			if (timerId) clearTimeout(timerId);
			timerId = setTimeout(bind(this, function(){
				fn.apply(this, args);
			}), time);
		}
	}

	var counter = 0,
    inc = function(){
    	counter++;
    	console.log(counter);
    };

	inc = debounce(inc, 1000);

	for (var i=100000; i--;) {
	  inc();
	}

	function bind(ctx, fn) {
      return function() {
        return fn.apply(ctx, arguments);
      }
	}

	</script>
</body>
</html>